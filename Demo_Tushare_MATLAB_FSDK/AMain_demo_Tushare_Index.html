
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>AMain_demo_Tushare_Index</title><meta name="generator" content="MATLAB 9.5"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2018-12-11"><meta name="DC.source" content="AMain_demo_Tushare_Index.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>AMain_demo_Tushare_Index</h1><!--introduction--><p>by LiYang_faruto</p><p>Email:farutoliyang@foxmail.com</p><p>2019/01/01</p><p>&#36890;&#36807;Tushare Pro&#33719;&#21462;&#25968;&#25454;&#26679;&#20363;&#65288;&#20351;&#29992; Tushare_MATLAB_FSDK&#65289;</p><p>Tushare_MATLAB_FSDK see</p><p><a href="https://github.com/faruto/Tushare_MATLAB_FSDK">Tushare_MATLAB_FSDK</a></p><p><a href="https://faruto.github.io/html/index.html">faruto_github_io</a></p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">A Little Clean Work</a></li><li><a href="#2">&#20840;&#23616;&#21442;&#25968;</a></li><li><a href="#3">tushare api connect</a></li><li><a href="#4">&#25351;&#25968;&#22522;&#26412;&#20449;&#24687;</a></li><li><a href="#5">&#25351;&#25968;&#26085;&#32447;&#34892;&#24773;</a></li><li><a href="#6">&#25351;&#25968;&#25104;&#20998;&#21644;&#26435;&#37325;</a></li><li><a href="#7">&#22823;&#30424;&#25351;&#25968;&#27599;&#26085;&#25351;&#26631;</a></li><li><a href="#8">ETC</a></li><li><a href="#9">Record Time</a></li></ul></div><h2 id="1">A Little Clean Work</h2><pre class="codeinput">tic;
<span class="comment">% clear;</span>
<span class="comment">% clc;</span>
<span class="comment">% close all;</span>
format <span class="string">compact</span>;
</pre><h2 id="2">&#20840;&#23616;&#21442;&#25968;</h2><pre class="codeinput">gPara.len_demo = 8;
</pre><h2 id="3">tushare api connect</h2><p>&#36755;&#20837;&#24744;&#33258;&#24049;&#30340;Token,&#26597;&#30475;&#20301;&#32622; https://tushare.pro/user/token</p><pre class="codeinput">YourTushareToken_char = TushareToken;
token = YourTushareToken_char;
api = pro_api(token);
</pre><h2 id="4">&#25351;&#25968;&#22522;&#26412;&#20449;&#24687;</h2><pre class="codeinput">tic;
tData = api.query(<span class="string">'index_basic'</span>,<span class="string">'market'</span>,<span class="string">'SW'</span>);
tData(1:gPara.len_demo,:)
toc;
</pre><pre class="codeoutput">ans =
  8&times;8 table
      ts_code          name        market    publisher      category      base_date     base_point    list_date 
    ___________    ____________    ______    _________    ____________    __________    __________    __________
    '801001.SI'    '&#30003;&#19975;50'         'SW'     '&#30003;&#19975;&#30740;&#31350;'     '&#20854;&#20182;'           '19991230'      [1000]      []        
    '801002.SI'    '&#30003;&#19975;&#20013;&#23567;&#26495;'      'SW'     '&#30003;&#19975;&#30740;&#31350;'     '&#20854;&#20182;'           '20040705'      [1000]      []        
    '801003.SI'    '&#30003;&#19975;A&#32929;'         'SW'     '&#30003;&#19975;&#30740;&#31350;'    '&#20854;&#20182;'           '19991230'      [1000]      []        
    '801004.SI'    '&#30003;&#19975;&#32929;&#25913;&#25351;&#25968;'     'SW'     '&#30003;&#19975;&#30740;&#31350;'    '&#20854;&#20182;'           '20050815'      [1000]      []        
    '801005.SI'    '&#30003;&#19975;&#21019;&#19994;&#26495;'      'SW'     '&#30003;&#19975;&#30740;&#31350;'     '&#20854;&#20182;'           '20091105'      [1000]      '20091106'
    '801010.SI'    '&#20892;&#26519;&#29287;&#28180;'        'SW'     '&#30003;&#19975;&#30740;&#31350;'     '&#19968;&#32423;&#34892;&#19994;&#25351;&#25968;'    '19991230'      [1000]      '20031015'
    '801011.SI'    '&#26519;&#19994;&#8545;'          'SW'     '&#30003;&#19975;&#30740;&#31350;'     '&#20108;&#32423;&#34892;&#19994;&#25351;&#25968;'    '19991230'      [1000]      []        
    '801012.SI'    '&#20892;&#20135;&#21697;&#21152;&#24037;'      'SW'     '&#30003;&#19975;&#30740;&#31350;'     '&#20108;&#32423;&#34892;&#19994;&#25351;&#25968;'    '19991230'      [1000]      []        
&#26102;&#38388;&#24050;&#36807; 0.241025 &#31186;&#12290;
</pre><h2 id="5">&#25351;&#25968;&#26085;&#32447;&#34892;&#24773;</h2><pre class="codeinput">tic;
tData = api.query(<span class="string">'index_daily'</span>,<span class="string">'ts_code'</span>,<span class="string">'399300.SZ'</span>,<span class="string">'start_date'</span>,<span class="string">'20180201'</span>,<span class="string">'end_date'</span>,<span class="string">'20181010'</span>);
tData(1:gPara.len_demo,:)
toc;
</pre><pre class="codeoutput">ans =
  8&times;11 table
      ts_code      trade_date    close      open      high      low      pre_close    change     pct_chg       vol          amount  
    ___________    __________    ______    ______    ______    ______    _________    _______    _______    __________    __________
    '399300.SZ'    '20180201'    4245.9    4276.3    4287.4    4214.3     4275.9      -30.001    -0.7016       1.9e+08    2.3923e+08
    '399300.SZ'    '20180202'    4271.2    4213.9    4271.8    4181.8     4245.9       25.335     0.5967    1.4607e+08    1.9117e+08
    '399300.SZ'    '20180205'    4274.1    4204.5    4274.1    4200.1     4271.2       2.9138     0.0682    1.6135e+08    2.1736e+08
    '399300.SZ'    '20180206'    4148.9    4182.3    4211.5    4131.6     4274.1      -125.26    -2.9307    2.1491e+08    2.7942e+08
    '399300.SZ'    '20180207'    4050.5    4205.7    4212.6    4048.4     4148.9      -98.388    -2.3714    2.0313e+08    2.6151e+08
    '399300.SZ'    '20180208'      4012    4022.9    4071.7    3974.7     4050.5       -38.45    -0.9493    1.5927e+08    1.9906e+08
    '399300.SZ'    '20180209'    3840.7    3896.2    3911.3    3759.1       4012      -171.39     -4.272    2.0635e+08    2.4677e+08
    '399300.SZ'    '20180212'    3890.1    3846.3    3907.8    3828.1     3840.7       49.452     1.2876    1.1618e+08    1.4986e+08
&#26102;&#38388;&#24050;&#36807; 0.134953 &#31186;&#12290;
</pre><h2 id="6">&#25351;&#25968;&#25104;&#20998;&#21644;&#26435;&#37325;</h2><pre class="codeinput">tic;
tData = api.query(<span class="string">'index_weight'</span>,<span class="string">'index_code'</span>,<span class="string">'399300.SZ'</span>,<span class="string">'start_date'</span>,<span class="string">'20180901'</span>,<span class="string">'end_date'</span>,<span class="string">'20181010'</span>);
tData(1:gPara.len_demo,:)
toc;
</pre><pre class="codeoutput">ans =
  8&times;4 table
    index_code      con_code      trade_date    weight
    ___________    ___________    __________    ______
    '399300.SZ'    '001965.SZ'    '20180903'    0.0453
    '399300.SZ'    '002925.SZ'    '20180903'    0.0395
    '399300.SZ'    '600025.SH'    '20180903'    0.0497
    '399300.SZ'    '603260.SH'    '20180903'    0.0434
    '399300.SZ'    '001979.SZ'    '20180903'    0.4153
    '399300.SZ'    '601155.SH'    '20180903'    0.2341
    '399300.SZ'    '601108.SH'    '20180903'    0.0385
    '399300.SZ'    '601228.SH'    '20180903'    0.0914
&#26102;&#38388;&#24050;&#36807; 0.686683 &#31186;&#12290;
</pre><h2 id="7">&#22823;&#30424;&#25351;&#25968;&#27599;&#26085;&#25351;&#26631;</h2><pre class="codeinput">tic;
tData = api.query(<span class="string">'index_dailybasic'</span>,<span class="string">'trade_date'</span>,<span class="string">'20181018'</span>,<span class="string">'fields'</span>,<span class="string">'ts_code,trade_date,turnover_rate,pe'</span>);
tData(1:gPara.len_demo,:)
toc;
</pre><pre class="codeoutput">ans =
  8&times;12 table
      ts_code      trade_date     total_mv      float_mv     total_share    float_share    free_share    turnover_rate    turnover_rate_f     pe      pe_ttm     pb 
    ___________    __________    __________    __________    ___________    ___________    __________    _____________    _______________    _____    ______    ____
    '000001.SH'    '20181018'    3.1699e+13    2.2966e+13    4.4428e+12     3.2899e+12      1.244e+12        0.38              1.01          11.92    11.13     1.28
    '000300.SH'    '20181018'    2.9449e+13    2.1843e+13     3.692e+12     2.7031e+12     9.2888e+11        0.27              0.79          11.17    10.47      1.3
    '000905.SH'    '20181018'    5.6874e+12    4.4656e+12    8.8114e+11     7.2493e+11     4.1554e+11        0.82              1.44          18.03    16.65     1.51
    '399001.SZ'    '20181018'    1.0179e+13    7.7054e+12    1.0887e+12     8.4577e+11     5.0947e+11        0.88              1.46          17.48    16.16     1.93
    '399005.SZ'    '20181018'     3.085e+12    2.2289e+12    2.4421e+11      1.798e+11     1.1033e+11        0.85              1.39          21.43    19.55     2.73
    '399006.SZ'    '20181018'    1.6939e+12    1.0838e+12     1.288e+11     9.3588e+10     6.9878e+10         1.5              2.01          29.56    27.04      3.2
    '399016.SZ'    '20181018'    2.1854e+12    1.7031e+12    1.7449e+11     1.4094e+11     9.5872e+10        1.06              1.56          18.86    17.93     2.72
    '399300.SZ'    '20181018'    2.9449e+13    2.1843e+13     3.692e+12     2.7031e+12     9.2888e+11        0.27              0.79          11.17    10.47      1.3
&#26102;&#38388;&#24050;&#36807; 0.050366 &#31186;&#12290;
</pre><h2 id="8">ETC</h2><pre class="codeinput">over = 1;
</pre><h2 id="9">Record Time</h2><pre class="codeinput">toc;
displayEndOfDemoMessage(mfilename);
</pre><pre class="codeoutput">&#26102;&#38388;&#24050;&#36807; 0.062308 &#31186;&#12290;
</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2018b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% AMain_demo_Tushare_Index
% by LiYang_faruto
% 
% Email:farutoliyang@foxmail.com
% 
% 2019/01/01
% 
% 通过Tushare Pro获取数据样例（使用 Tushare_MATLAB_FSDK）
% 
% Tushare_MATLAB_FSDK see 
% 
% <https://github.com/faruto/Tushare_MATLAB_FSDK Tushare_MATLAB_FSDK>
%
% <https://faruto.github.io/html/index.html faruto_github_io>
%% A Little Clean Work
tic;
% clear;
% clc;
% close all;
format compact;
%% 全局参数

gPara.len_demo = 8;

%% tushare api connect
% 输入您自己的Token,查看位置 https://tushare.pro/user/token

YourTushareToken_char = TushareToken;
token = YourTushareToken_char;
api = pro_api(token);

%% 指数基本信息
tic;
tData = api.query('index_basic','market','SW');
tData(1:gPara.len_demo,:)
toc;
%% 指数日线行情
tic;
tData = api.query('index_daily','ts_code','399300.SZ','start_date','20180201','end_date','20181010');
tData(1:gPara.len_demo,:)
toc;
%% 指数成分和权重
tic;
tData = api.query('index_weight','index_code','399300.SZ','start_date','20180901','end_date','20181010');
tData(1:gPara.len_demo,:)
toc;
%% 大盘指数每日指标
tic;
tData = api.query('index_dailybasic','trade_date','20181018','fields','ts_code,trade_date,turnover_rate,pe');
tData(1:gPara.len_demo,:)
toc;
%% ETC
over = 1;

%% Record Time
toc;
displayEndOfDemoMessage(mfilename);

##### SOURCE END #####
--></body></html>